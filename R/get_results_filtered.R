#' @title Get the Premier League results for the desired seasons
#'
#' @description This function takes the latest data on this Premier League season and combines it with corresponding results from previous seasons, if desired.
#' @param results These are the results from this and possibly earlier seasons, as generated by `get_results`.
#' @param index_game_latest This is the index of the latest game played, which can be generated by `calc_game_latest`.
#' @param lookback_rounds This is the number of rounds of fixtures to use in a model (so 38 would represent a whole season).
#' @keywords Sport
#' @export
#' @examples
#' \dontrun{
#' get_results_filtered(
#'   results = data_results,
#'   index_game_latest = 280L,
#'   lookback_rounds = 38L,
#'   )
#' }
#'
#' @importFrom rlang .data

get_results_filtered <- function(results, index_game_latest, lookback_rounds){

  index_game_earliest <- index_game_latest - (10 * lookback_rounds)

  results |>
    dplyr::filter(
      .data$row_order >= index_game_earliest
    ) |>
    dplyr::select(-.data$row_order)

  }
